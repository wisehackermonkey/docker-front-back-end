language: node_js

node_js: '10' # or another

cache: npm

sudo: required
services:
  - docker
script:
  - docker-compose pull mongo
  - docker-compose build
  - docker-compose bundle
  - docker-compose ps


before_deploy:
  - echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin

deploy:
  provider: script
  script: bash deploy_service.sh
  on:
    branch: master